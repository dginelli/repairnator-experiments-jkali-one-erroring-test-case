<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Oracle interface</title>
    <script src="../js/jquery-1.7.1.min.js"></script>
    <script src="../js/jquery.mousewheel-min.js"></script>
    <script src="../js/jquery.terminal.js"></script>
    <link href="../css/jquery.terminal.css" rel="stylesheet"/>
    <link href="../css/custom.terminal.css" rel="stylesheet"/>
    <script>
        jQuery(document).ready(function ($) {
            $('body').terminal(function (command, term) {
                term.pause();
                $.ajax({
                  url: "webby/consult",
                  type: "get",
                  data: {
                    q: command
                  },
                  success: function(response) {
                      term.resume();
                      term.echo('[[;;;response]' + response.saying + ']');
                      
                      //term.echo('[[;;;response]' + response.saying + ' (' + response.author + ')' + ']');
					  //or just display as raw: term.echo(response, {raw:true});
					  
					  //TODO https://css-tricks.com/snippets/css/typewriter-effect/
					  //TODO https://www.w3schools.com/bootstrap/bootstrap_tooltip.asp
					  //TODO https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API	                      
                  },
                  error: function(xhr) {
                      term.resume();
                      term.echo('[[;;;response]' + xhr + ']');
                  }
                });
            }, {prompt: '> ', greetings: 'Hello you. This is me, the Oracle.\nIs there anything you would like to talk about?\n\r'});
        });
    </script>
  </head>
<body>
</body>
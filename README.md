# JKali Patches associated with Travis CI builds having only one erroring test case

This is an open-science repository that collects the Kali patches generated by [Repairnator](https://github.com/eclipse/repairnator) during the analysis of the Travis CI builds characterised by only one erroring test case and no test failing test cases.

This repository aims to contain the code of the failing Java projects and to analyze the Kali patches generated using [AstorJKali](https://github.com/SpoonLabs/astor#jkali).

## Content of the repository

The structure of the repository is as follows:

- Branch `master` contains the `jkali-patches` folder and the documentation of this repository;
- The `jkali-patches` folder contains the patches generated by Repairnator (using the `AstorJKali` repair mode) analyzing the Travis CI build failure related to Java programs that use Maven as building tool;
- For each of these failing builds, there is a specific branch with all the information related to the building of the project, bug reproduction, failing tests and repair attempts.

## Statistics

The builds collected in the dataset [repairnator-experiments](https://github.com/repairnator/repairnator-experiments) with only one erroring test case are 1.724. In the following table, there are the different states of the builds detected by Repairnator during the analysis:

|                        | Failing | Patched | Not clonable | Not buildable | Not checked out | Not testable | Not failing|
|--------------------------|:--------:|:--------:|:------------:|:-------------:|---------------:|--------------:|-------:|
| **Number of the builds** | 1.137    | 52       |     -        | 366           | -              | 25            | 131    |

In this repository there are 1.189 branches (excluding `master` branch), each of them associated with a failure.

# Patch Analysis

## repairnator-repairnator-experiments-Arquisoft-Agents_i1a-363526725-20180407-180717-firstCommit

**Branch associated with the failure**: [repairnator-repairnator-experiments-Arquisoft-Agents_i1a-363526725-20180407-180717-firstCommit](https://github.com/repairnator/repairnator-experiments-jkali-one-erroring-test-case/tree/repairnator-repairnator-experiments-Arquisoft-Agents_i1a-363526725-20180407-180717-firstCommit)

**Information about the failure**:

| Error type   | Erroring test case | Changed file by AstorJKali |
|--------------|-------------------|----------------------------|
| org.springframework.boot.context.embedded.<br>tomcat.ConnectorStartFailedException | [MainControllerTest.java](https://github.com/repairnator/repairnator-experiments-jkali-one-erroring-test-case/blob/742d559025c5ae3085be6b91de987d3743064be9/src/test/java/agent/MainControllerTest.java#L56) | [Application.java](https://github.com/repairnator/repairnator-experiments-jkali-one-erroring-test-case/blob/742d559025c5ae3085be6b91de987d3743064be9/src/main/java/agent/Application.java#L14)|

**Kali patch**:

```diff
--- /src/main/java/agent/Application.java
+++ /src/main/java/agent/Application.java
@@ -6,7 +6,6 @@
 @org.springframework.context.annotation.ComponentScan({ "dbmanagement", "validator", "services", "controller", "agent" })
 public class Application {
 	public static void main(java.lang.String[] args) {
-		org.springframework.boot.SpringApplication.run(agent.Application.class, args);
 	}
 }
```

The test case terminates with an error only running it with Maven, but it passes when it is executed with Eclipse.

**Overview**:

**Reason why the patch has been generated**:

**Useful information for the developer**:

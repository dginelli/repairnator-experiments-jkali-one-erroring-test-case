<div class="panel-heading" style="background-color: #e6f7ff; margin-left:10px;margin-right:10px;" ng-click="showInfosClient = !showInfosClient" ng-show="!showInfosClient">
    <span id="titreRubrique">Client: </span>
    <span id="titreRubriqueInfoClient">{{client.nom}} {{client.prenom}} - {{client.denomination}} - N°{{client.numeroClient}}</span>
    <span class="pull-right">
        <span class="glyphicon glyphicon-plus" style="color:#79a6d2">
        </span>
    </span>
</div>


<div class="panel panel-default" style="border-color: #e6f7ff;" ng-show="showInfosClient">
    <div class="panel-heading" style="background-color: #e6f7ff;" ng-click="showInfosClient = !showInfosClient">
    <span id="titreRubrique">Client: </span>
    <span id="titreRubriqueInfoClient">{{client.nom}} {{client.prenom}} - {{client.denomination}} - N°{{client.numeroClient}}</span>
    <span class="pull-right">
        <span class="glyphicon glyphicon-minus" style="color:#79a6d2">
        </span>
    </span>
    </div>
    
    <div class="panel-body">
        <animation-loading ng-if="editionClientCtl.requettesHttpEnCours > 0"></animation-loading>
        <erreur-personnalisee ng-model="editionClientCtl.erreurEditionClient"></erreur-personnalisee>
    </div>
    <div class="panel-body" ng-show="showInfosClient">
        <fieldset id="fieldSetFormulaireEditionClient">
            <form id="formulaireEditionClient" novalidate class="simple-form" name = "formulaireEditionClient" >  

                <div class="row">
                    <div class="col-sm-2">
                        <label class="labelFormulaire">Numéro client :</label>
                    </div>
                    <div class="col-sm-10" align="left">
                        <label class="labelFormulaire"><b>{{client.numeroClient}}</b></label>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-sm-2">
                        <label class="labelFormulaire">Nom:<span name="obligatoireSpan">*</span></label>
                    </div>
                    <div class="col-sm-4" align="left">
                        <input type="text" name = "nom" ng-model="client.nom" required="true"/>
                        <span ng-show="formulaireEditionClient.nom.$error.required && submitted" style="color:red;font-weight: bold;"><img src="./commun/images/red_cross_2prc.png"></span>
                        <span ng-show="!formulaireEditionClient.nom.$error.required && submitted"><img src="./commun/images/ok_2prc.png"></span>
                    </div>
                    <div class="col-sm-2">
                        <label class="labelFormulaire">Catégorie:<span name="obligatoireSpan">*</span></label>
                    </div>
                    <div class="col-sm-4" align="left">
                        <select name="categorie" 
                           id="client.categorie" 
                           ng-model="client.categorie" 
                           ng-options="option.valeur as option.label for option in categories"
                           required="true" >    
                        </select>
                        <span ng-show="formulaireEditionClient.categorie.$error.required && !formulaireEditionClient.categorie.$valid && submitted" style="color:red;font-weight: bold;"><img src="./commun/images/red_cross_2prc.png"></span>
                        <span ng-show="!formulaireEditionClient.categorie.$error.required && formulaireEditionClient.categorie.$valid && submitted"><img src="./commun/images/ok_2prc.png"></span>
                    </div>
                </div>
            
                <div class="row">
                    <div class="col-sm-2">
                        <label class="labelFormulaire">Prénom:<span name="obligatoireSpan">*</span></label>
                    </div>
                    <div class="col-sm-4" align="left">
                        <input type="text" name = "prenom" ng-model="client.prenom" required="true" />
                        <span ng-show="formulaireEditionClient.prenom.$error.required && !formulaireEditionClient.prenom.$valid && submitted" style="color:red;font-weight: bold;"><img src="./commun/images/red_cross_2prc.png"></span>
                        <span ng-show="!formulaireEditionClient.prenom.$error.required && formulaireEditionClient.prenom.$valid && submitted"><img src="./commun/images/ok_2prc.png"></span>
                    </div>
                    <div class="col-sm-2">
                        <label class="labelFormulaire">Dénomination:<span name="obligatoireSpan">*</span></label>
                    </div>
                    <div class="col-sm-4" align="left">
                        <input type="text" name = "denomination" style="width: 200px;" ng-model="client.denomination" required="true" />
                        <span ng-show="formulaireEditionClient.denomination.$error.required && !formulaireEditionClient.denomination.$valid && submitted" style="color:red;font-weight: bold;"><img src="./commun/images/red_cross_2prc.png"></span>
                        <span ng-show="!formulaireEditionClient.denomination.$error.required && formulaireEditionClient.denomination.$valid && submitted"><img src="./commun/images/ok_2prc.png"></span>
                    </div>
                </div>
            
                <div class="row">
                    <div class="col-sm-2">
                        <label class="labelFormulaire">Tél.1 :</label>
                    </div>
                    <div class="col-sm-4" align="left">
                        <input type="text" name="tel1" ng-pattern="/^[0-9]{10}$/" ng-model="client.tel1" />
                        <span ng-show="!formulaireEditionClient.tel1.$valid && submitted" style="color:red;font-weight: bold;"><img src="./commun/images/red_cross_2prc.png"></span>
                        <span ng-show="formulaireEditionClient.tel1.$valid && submitted"><img src="./commun/images/ok_2prc.png"></span>
                    </div>
                    <div class="col-sm-2">
                        <label class="labelFormulaire">Mail1:</label>
                    </div>
                    <div class="col-sm-4" align="left">
                        <input type="email" name="mail1" style="width: 200px;" ng-model="client.mail1" />
                        <span ng-show="!formulaireEditionClient.mail1.$valid && submitted" style="color:red;font-weight: bold;"><img src="./commun/images/red_cross_2prc.png"></span>
                        <span ng-show="formulaireEditionClient.mail1.$valid && submitted"><img src="./commun/images/ok_2prc.png"></span>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-sm-2">
                        <label class="labelFormulaire">Tél.2 :</label>
                    </div>
                    <div class="col-sm-4" align="left">
                        <input type="text" name="tel2" ng-pattern="/^[0-9]{10}$/" ng-model="client.tel2" />
                        <span ng-show="!formulaireEditionClient.tel2.$valid && submitted" style="color:red;font-weight: bold;"><img src="./commun/images/red_cross_2prc.png"></span>
                        <span ng-show="formulaireEditionClient.tel2.$valid && submitted"><img src="./commun/images/ok_2prc.png"></span>
                    </div>
                    <div class="col-sm-2">
                        <label class="labelFormulaire">Mail 2:</label>
                    </div>
                    <div class="col-sm-4" align="left">
                        <input type="email" name="mail2" style="width: 200px;" ng-model="client.mail2" />
                        <span ng-show="!formulaireEditionClient.mail2.$valid && submitted" style="color:red;font-weight: bold;"><img src="./commun/images/red_cross_2prc.png"></span>
                        <span ng-show="formulaireEditionClient.mail2.$valid && submitted"><img src="./commun/images/ok_2prc.png"></span>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-sm-2">
                        <label class="labelFormulaire">Adresse :</label>
                    </div>
                    <div class="col-sm-10" align="left">
                        <input type="text" name="adresse" style="width: 400px;" ng-model="client.adresse" >
                        <span ng-show="!formulaireEditionClient.adresse.$valid && submitted" style="color:red;font-weight: bold;"><img src="./commun/images/red_cross_2prc.png"></span>
                        <span ng-show="formulaireEditionClient.adresse.$valid && submitted"><img src="./commun/images/ok_2prc.png"></span>
                    </div>
                </div>
                
            </div> <!-- form-->
        </fieldset>
        
        <div class="panel-body" ng-show="showInfosClient">
            <span ng-show="!infosClientEnCoursDeModification">
                <button ng-click="clickModification()" class="btn btn-creation">Modifier</button>
            </span>
            <span ng-show="infosClientEnCoursDeModification">
            <button ng-click="validerModification()" class="btn btn-success">Enregistrer</button> 
            </span>
            <span ng-show="infosClientEnCoursDeModification">
            <button ng-click="annulerModification()" class="btn btn-warning">Annuler</button> 
            </span>
            <span ng-if="updateOk"><label style="color:green; font-weight:normal">Client {{client.numeroClient}} mis à jour</label></span>
            <br>
        </div>
    </div>
</div>

<div class="panel panel-default" style="border-color: #ffccff;">
    <div class="panel-heading" style="background-color: #ffe6ff;">
        <span id="titreRubrique">Evénements</span>
    </div>

    <div class="panel-body">
        <animation-loading ng-if="editionClientCtl.requettesHttpEnCours > 0"></animation-loading>
        <erreur-personnalisee ng-model="editionClientCtl.erreurGetEvenementsDuClient"></erreur-personnalisee>

        <div class="row">
            <div class="col-sm-8">
            </div>
            <div class="col-sm-2">
                <button ng-click="creerNouvelEvenement()" class="btn btn-creation pull-right">Créer nouvel événement</button>
            </div>
            <div class="col-sm-2">
                <select name="typeEvenement" 
               id="typeEvenement" 
               ng-model="typeEvenement" 
               ng-options="option.valeur as option.label for option in typeEvenements"
               required="true" >    
                </select>
            </div>

        </div>
        <br>
        
        <table-evenements evenements="evenements" click="clickOnEvenement(evenement)"></table-evenements>
            
    </div>
    
</div>

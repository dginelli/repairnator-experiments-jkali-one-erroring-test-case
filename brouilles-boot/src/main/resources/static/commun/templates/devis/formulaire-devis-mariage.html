<fieldset id="fieldFormulaireCreationEditionDevisMariage" ng-disabled="formDisabled">

    <form id="formulaireDevisMariage" novalidate class="simple-form" name = "formulaireDevisMariage" ng-class="{'submitted': true}">  
        
        <table ng-table="tableProprietesBase" class="table table-striped table-bordered table-hover" border="1" style="width:100%;">
            <thead>
                <tr class="active" style="color:black;">
                    <th class="td-designation-title" style="background-color:#b7e2aa;color:#404040">Désignation</th>
                    <th class="td-quantite" style="font-weight:bold;background-color:#b7e2aa;color:#404040">Quantité</th>
                    <th class="td-prix-unit-ht" style="font-weight:bold;background-color:#b7e2aa;color:#404040">Prix unitaire HT</th>
                    <th class="td-prix-unit-ttc" style="font-weight:bold;background-color:#b7e2aa;color:#404040">Prix unitaire TTC</th>
                    <th class="td-prix-total-ht" style="font-weight:bold;background-color:#b7e2aa;color:#404040">Total HT</th>
                    <th class="td-prix-total-ttc" style="font-weight:bold;background-color:#b7e2aa;color:#404040">Total TTC</th>
                </tr>
            </thead>
            <tbody>
                    <tr ng-repeat="(nom, prop) in devis.json.proprietesMariage" ng-if="prop.type === 'BASE'">
                        <td ng-if="isRemise(prop)" class="td-designation-base" style="vertical-align: middle;height:32px;color:red;">{{ prop.label }}</td>
                        <td ng-if="!isRemise(prop)" class="td-designation-base" style="vertical-align: middle;height:32px;">{{ prop.label }}</td>
                        
                        <td style="vertical-align: middle;height:32px">
                            <input type="number" style="height:32px;" ng-model="prop.quantite" required="true" min="0"  max="10000" pattern="[0-9]+" 
                            ng-change="changeQuantite(prop)"/>
                        </td>
                        <td class="td-prix-unit-ht" style="vertical-align: middle;height:32px;">
                            <label class="label-prix">{{ prop.prixUnitaireHT }} &euro;</label>
                        </td>
                        <td class="td-prix-unit-ttc" style="vertical-align: middle;height:32px;">
                            <label class="label-prix">{{prop.prixUnitaireTTC }} &euro;</label>
                        </td>
                        <td class="td-prix-total-ht" style="vertical-align: middle;height:32px;">
                            <label class="label-prix">{{prop.prixTotalHT }} &euro;</label>
                        </td>
                        <td class="td-prix-total-ttc" style="vertical-align: middle;height:32px;">
                            <label class="label-prix">{{prop.prixTotalTTC}} &euro;</label>
                        </td>
                    </tr>
            </tbody>
            <tr>
                <td></td>
                <td></td>
                <td class="label-total-sous-total" style="font-weight:bold;font-size: 14px;">
                    <label>Sous-total</label>
                </td>
                <td></td>
                <td class="td-prix-total-ht" >
                    <label class="label-prix" style="font-weight:bold;font-size: 15px;">{{devis.json.proprietesMariage.sousTotalBase.prixTotalHT}}</label>
                </td>
                <td class="td-prix-total-ttc">
                    <label class="label-prix" style="font-weight:bold;font-size: 15px;">{{devis.json.proprietesMariage.sousTotalBase.prixTotalTTC}}</label>
                </td>
            </tr>
            <thead>
                <tr class="active" style="color:black;">
                    <th class="td-designation-title" style="background-color:#b7e2aa;color:#404040">Alimentaire</th>
                    <th style="background-color:#ffffff"></th>
                    <th style="background-color:#ffffff"></th>
                    <th style="background-color:#ffffff"></th>
                    <th style="background-color:#ffffff"></th>
                    <th style="background-color:#ffffff"></th>
                </tr>
            </thead>

            <tbody>
                    <tr ng-repeat="(nom, prop) in devis.json.proprietesMariage" ng-if="prop.type === 'ALIMENTAIRE'">
                        <td class="td-designation-base" style="vertical-align: middle;height:32px;">{{ prop.label }}</td>
                        <td style="vertical-align: middle;height:32px">
                            <input type="number" style="height:32px;" ng-model="prop.quantite" required="true" min="0"  max="10000" pattern="[0-9]+" 
                            ng-change="changeQuantite(prop)"/>
                        </td>
                        <td class="td-prix-unit-ht" style="vertical-align: middle;height:32px;">
                            <label class="label-prix">{{ prop.prixUnitaireHT }} &euro;</label>
                        </td>
                        <td class="td-prix-unit-ttc" style="vertical-align: middle;height:32px;">
                            <label class="label-prix">{{prop.prixUnitaireTTC }} &euro;</label>
                        </td>
                        <td class="td-prix-total-ht" style="vertical-align: middle;height:32px;">
                            <label class="label-prix">{{prop.prixTotalHT }} &euro;</label>
                        </td>
                        <td class="td-prix-total-ttc" style="vertical-align: middle;height:32px;">
                            <label class="label-prix">{{prop.prixTotalTTC}} &euro;</label>
                        </td>
                    </tr>
            </tbody>
            
                <!-- Sous total alimentaire -->
                <tr>
                    <td></td>
                    <td></td>
                    <td class="label-total-sous-total" style="font-weight:bold;font-size: 14px;">
                        <label>Sous-total</label>
                    </td>
                    <td></td>
                    <td class="td-prix-total-ht" >
                        <label class="label-prix" style="font-weight:bold;font-size: 15px;">{{devis.json.proprietesMariage.sousTotalAlimentaire.prixTotalHT}}</label>
                    </td>
                    <td class="td-prix-total-ttc">
                        <label class="label-prix" style="font-weight:bold;font-size: 15px;">{{devis.json.proprietesMariage.sousTotalAlimentaire.prixTotalTTC}}</label>
                    </td>
                </tr>
                
                <tr>
                    <td class="td-designation-title" style="background-color:#b7e2aa;">Total</td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td class="td-prix-total-ht" >
                        <label class="label-prix" style="font-weight:bold;font-size: 15px;">{{devis.json.proprietesMariage.totalDevis.prixTotalHT}}</label>
                    </td>
                    <td class="td-prix-total-ttc">
                        <label class="label-prix" style="font-weight:bold;font-size: 15px;">{{devis.json.proprietesMariage.totalDevis.prixTotalTTC}}</label>
                    </td>
                </tr>
                <br>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
        </table>

        <table border="0" style="width:100%">
            <tr>
                <td style="width:36%;"></td>
                <td style="width:10%;"></td>
                <td style="width:14%;"></td>
                <td class="label-totaux-fond-gris">Acompte versé pour la salle</td>
                <td class="label-totaux-fond-gris" style="width:13%;">
                    <input type="number" style="font-weight:bold;background-color:#d9d9d9;width:120%" ng-model="devis.json.proprietesMariage.acompte.prixUnitaireTTC" required="true" min="0" step="0.01"  placeholder='0.00' 
                    ng-change="changePrixUnitaireTTC(devis.json.proprietesMariage.acompte)"/> 
                </td>
            </tr>
            <tr>
                <td style="width:36%;"></td>
                <td style="width:10%;"></td>
                <td style="width:14%;"></td>
                <td class="label-totaux-fond-gris">Total restant</td>
                <td class="label-totaux-fond-gris13pc">
                    <label class="label-prix" style="font-weight:bold;font-size: 15px;">{{devis.json.proprietesMariage.totalRestant.prixTotalTTC}} &euro;</label>
                </td>
            </tr>
            <tr>
                <td style="width:36%;"></td>
                <td style="width:10%;"></td>
                <td style="width:14%;"></td>
                <td class="label-totaux-fond-gris"><label style="color:red;font-weight:normal;">Acompte à verser </label></td>
                <td class="label-totaux-fond-gris13pc">
                    <label class="label-prix" style="font-weight:bold;font-size: 15px;color:red">{{devis.json.proprietesMariage.acompteAVerser.prixTotalTTC}} &euro;</label>
                </td>
            </tr>
            <tr>
                <td style="width:36%;"></td>
                <td style="width:10%;"></td>
                <td style="width:14%;"></td>
                <td class="label-totaux-fond-gris"><label style="font-weight:normal;">Solde à régler </label></td>
                <td class="label-totaux-fond-gris13pc">
                    <label class="label-prix" style="font-weight:bold;font-size: 15px;">{{devis.json.proprietesMariage.soldeARegler.prixTotalTTC}} &euro;</label>
                </td>
            </tr>
        </table>
    
    </form>
    
    <!-- custom css -->
  <style>
    
       .table > tbody > tr > td {
          padding:1px;
          vertical-align: middle;
          text-align:center;
        }

        .label-designation-rouge {
         text-align:center;
         color:red;
         font-weight:normal;
          vertical-align: middle;
         }
         
        .label-prix {
         font-weight:normal;
         }
         
        .label-totaux-fond-gris {
         font-weight:normal;
         width:27%;
         background-color:#d9d9d9;
         font-size: 15px;
          vertical-align: middle;
          text-align:center;
         }
         
        .label-totaux-fond-gris13pc {padding: 20px
         font-weight:normal;
         width:13%;
         background-color:#d9d9d9;
         font-size: 15px;
          vertical-align: middle;
          text-align:center;
         }
         
        .label-total-sous-total {
         font-weight:bold;
          vertical-align: middle;
          text-align:center;
         }
         
        .td-designation-base {
         background-color:#e6f7ff;
         width:36%;
          vertical-align: middle;
          text-align:center;
         }
         
        .td-designation-base-fond-blanc {
         background-color:#ffffff;
         width:36%;
          vertical-align: middle;
          text-align:center;
         }
         
        .td-designation-violet {
         background-color:#ccb3ff;
         width:36%;
          vertical-align: middle;
          text-align:center;
         }
         
        .td-designation-title {
          vertical-align: middle;
          text-align:center;
         width:36%;
         font-weight:bold;
         height:32px;
         }
         
        .td-quantite {
         width:10%;
          vertical-align: middle;
          text-align:center;
         }
         
        .td-prix-unit-ht{
         width:14%;
          vertical-align: middle;
          text-align:center;
         }
         
        .td-prix-unit-ttc{
         width:14%;
          vertical-align: middle;
          text-align:center;
         }
         
        .td-prix-total-ht{
         width:13%;
          vertical-align: middle;
          text-align:center;
         }
         
        .td-prix-total-ttc{
         width:13%;
          vertical-align: middle;
          text-align:center;
         }
         
        input {
            width: 100%;
            padding: 1px;
            margin: 0px;
            text-align:center;
        }

        table .last, td:last-child { 
            padding: 2px 24px 2px 0px; 
        }

  </style>

</fieldset>
